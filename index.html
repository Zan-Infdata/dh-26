<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sinji Delfini Terminal Adventure</title>
  <link rel="icon" type="image/png" href="favicon.png">    
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
<audio id="typing-sound" src="sounds/terminal_sound.mp3" preload="auto"></audio>
<audio id="beep1" src="sounds/beep3.mp3" preload="auto"></audio>
<audio id="beep2" src="sounds/beep2.mp3" preload="auto"></audio>
<div id="window">
  <div id="title-bar">
    <div id="title">Sinji Delfini Terminal</div>
    <div id="window-controls">
      <div class="control maximize"></div>
      <div class="control minimize"></div>
      <div class="control close"></div>
    </div>
  </div>
  <div id="terminal">
    <pre id="art-panel"></pre>
    <div id="text-panel">Press Enter to start... (enable sound for better experience)
        <span id="terminal-cursor" class="cursor">_</span>
    </div>
  </div>
</div>

  <script src="js/scenesData.js"></script>
  <script src="js/loader.js"></script>
  <script src="js/storyManager.js"></script>
  <script src="js/renderManager.js"></script>
  <script>

    function handleStart(e) {
        if (e.key === "Enter") {
            StoryManager.initSound();
            StoryManager.start("node1", 15);
            document.removeEventListener("keydown", handleStart);
            document.removeEventListener("click", handleStartClick);
        }
    }
    function handleStartClick(e) {
            StoryManager.initSound();
            StoryManager.start("node1", 15);
            
            document.removeEventListener("keydown", handleStart);
            document.removeEventListener("click", handleStartClick);
    }
    RenderManager.setDelay(300);

    document.addEventListener("keydown", handleStart);
    document.addEventListener("click", handleStartClick);
  </script>
</body>
</html>